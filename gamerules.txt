Сущности:
- Игрок (соответствует физическому соединению, уникальной записи в БД)
- Бот
- Здание
- Возводящееся здание
- Источник энергии
- Капля энергии

Объекты карты:
- Природная стена
- Возведённая стена
- Дорога

[Бот] принадлежит [Игроку].
[Здание] принадлежит [Игроку].
[Возводящееся здание] принадлежит [Игроку].

Если [Игрок] не имеет [Ботов] и [Зданий], то этот [Игрок] уничтожается вместе со всеми зависимыми сущностями.

[Бот], [Здание], [Возводящееся здание], [Источник энергии], [Капля энергии], [Природная стена], [Возведённая стена], [Дорога] имеют [Позицию].
[Бот], [Здание], [Возводящееся здание], [Возведённая стена], [Дорога] имеют [Здоровье].
[Бот], [Здание], [Возводящееся здание] имеют [Максимальное здоровье].
[Бот], [Здание], [Источник энергии], [Капля энергии] имеют [Энергию].
[Бот], [Здание], [Источник энергии] имеют [Максимальную энергию].
[Бот] имеет [Время жизни].
[Бот] имеет [Стамину].


Все сущности с [Позицией] не могут находиться в одном месте, за исключением:
[Дорога] и [Бот] и [Капля энергии]
[Дорога] и [Здание]
[Дорога] и [Возводящееся здание]
[Источник энергии] и [Природная стена]

Более того, [Источник энергии] может находиться только на [Природной стене].


[Здоровье] не может быть меньше нуля.
[Здоровье] не может быть больше [Максимального здоровья] если такое присутствует.
[Энергия] не может быть меньше нуля.
[Энергия] не может быть больше [Максимальной энергии] если такая присутствует.
[Стамина] не может быть меньше нуля.
[Стамина] не может быть больше [Максимальной стамины] если такая присутствует.
[Очки строительства] не могут быть меньше нуля.
[Очки строительства] не может быть больше [Максимальных очков строительства] если такие присутствуют.
[Время жизни] не может быть меньше нуля.


[Здоровье] [Дороги] и [Возведённой стены] постепенно уменьшается со временем.
[Энергия] [Капли энергии] постепенно уменьшается со временем.
[Время жизни] постепенно уменьшается со временем.
[Энергия] [Источника энергии] постепенно увеличивается со временем.


Если [Здоровье] равно нулю, то эта сущность уничтожается.
Если [Время жизни] равно нулю, то эта сущность уничтожается.
Если [Энергия] [Капли энергии] равна нулю, то эта сущность уничтожается.


Если [Игрок] отключён, то у [Зданий] и [Возводящихся зданий] появляется [Время жизни]=CONST.
Если [Игрок] подключён, у [Зданий] и [Возводящихся зданий] убирается [Время жизни].


[Максимальное здоровье] [Бота] зависит от набора используемых частей.
[Максимальная энергия] [Бота] зависит от набора используемых частей.
[Максимальная стамина] [Бота] зависит от набора используемых частей.
[Время жизни] [Бота] зависит от набора используемых частей.


[Бот] с возможностью [Рабочий] может установить [Возводящееся здание] в соседнюю клетку
    отдавая взамен определённое количество [Энергии] (в зависимости от типа строящегося здания),
    [Возводящееся здание] имеет CONST% запас [Здоровья], [Максимальное здоровье] равно такому же
    параметру будущего [Здания], [Очки строительства] равны нулю.
[Возводящееся здание] имеет [Очки строительства] (в зависимости от типа строящегося здания).
[Бот] с возможностью [Рабочий] может добавить [Возводящемуся зданию] [Очки строительства]
    используя свою [Энергию] (пропорционально количеству частей [Рабочий]).
Добавление [Очков строительства] [Возводящемуся зданию] добавляет также пропорциональное количество [Здоровья]
    так, чтобы в конце строительства (если [Возводящееся здание] не было атаковано) [Здоровье] [Возводящегося здания]
    должно быть равно [Максимальному здоровью] этого типа [Здания].
Если [Очки строительства] достигают [Максимальных очков строительства], то [Возводящееся здание] превращается в [Здание]
    сохраняя очки Здоровья.


[Бот] с возможностью [Рабочий] может забирать энергию у рядом стоящего [Источника энергии].
